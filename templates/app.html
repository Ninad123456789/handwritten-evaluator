{% extends 'base.html' %}
{% block title %} Handwritten Equation Evaluator {% endblock title %}
{% block body %}

<h1 class="text-center" style="margin-top:1rem; font-family: 'Rockwell'">
    Handwritten Equation Evaluator
</h1>

<form action="/" method="post">
    <div class="input-group mb-3" style="width:50%; margin-top : 2%; margin-left: 41%;">
        <div class="text-center">
            <button type="submit" class="btn btn-outline-primary" style="padding-left:75px; padding-right:75px">
                Choose an image
            </button>
        </div>
    </div>
</form>

<!-- SVG used -->
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
        <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
    </symbol>
</svg>

<!-- Search Results -->

<div class="justify-content-center" style="margin-left:25%; margin-right:25%; margin-top:2.5%">

    {% if image_path|length < 1 %}
    <div class="alert alert-primary d-flex gap-3 col-8 mx-auto my-4" role="alert">
        <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Info:">
            <use xlink:href="#info-fill"/>
        </svg>
        <div> No file chosen, choose a file now!</div>
    </div>

    {% else %}
    <img src="{{image_path}}" class="rounded mx-auto d-block" alt="Image can't be loaded" style="height:300px;">

    {% if result|length > 1 %}
        {% if result.startswith('Error') %}
            <div class="alert alert-danger gap-2 col-10 mx-auto my-4" align="left" role="alert">
                <h5> Detected equation :  {{equation}}</h5>
                <p></p>
                <h6> Result :  {{result}} </h6>
            </div>

        {% else %}
            <div class="alert alert-primary gap-2 col-10 mx-auto my-4" align="center" role="alert">

                <h5> Detected equation :  {{equation}}</h5>
                <p></p>
                <h6> Result :  {{result}} </h6>
            </div>

        {% endif %}
    {% endif %}
    {% endif %}

</div>

<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
        crossorigin="anonymous"></script>

{% endblock body %}